@tailwind base;
@tailwind components;
@tailwind utilities;
/**
 * Google Material Symbols (new) icon-font
 */
.msicon {
  font-family: "Material Symbols Outlined";
  /* color: currentColor; */
  font-variation-settings:
    "FILL" 0,
    "wght" 400,
    "GRAD" 0,
    "opsz" 24;
}

/**
 * Remove focus styles for non-keyboard focus.
 */
:focus:not(:focus-visible) {
  outline: 0;
  box-shadow: none;
}
textarea:focus,
input:focus,
select:focus {
  @apply tw-outline
  tw-outline-1
  tw-outline-offset-0;
}
textarea:disabled,
input:disabled,
select:disabled,
button:disabled {
  @apply tw-pointer-events-none
  tw-cursor-not-allowed
  tw-border-border-disabled
  tw-bg-bg-disabled
  tw-text-text-disabled
  !important;
}
/**
 * Cross-browser styles for explicit focus via
 * keyboard-based (eg Tab) navigation or the
 * .focus-visible utility class.
 */
:focus,
.focus-visible:focus:not(:focus-visible) {
  @apply tw-outline
  tw-outline-1
  tw-outline-focus-outline;
  z-index: 9999;
}
a {
  @apply hover:tw-bg-bg-component-hover;
}
/**
 * components and css using tailwind css
 */
@layer components {
  body {
    @apply tw-text-text-primary;
    &.qa::after {
      content: "QA";
      @apply tw-pointer-events-none
        tw-fixed
        tw-left-[-30px]
        tw-top-[10px]
        tw-z-[100]
        tw-w-[100px]
        tw--rotate-45
        tw-border
        tw-border-error
        tw-border-opacity-25
        tw-bg-error
        tw-bg-opacity-25
        tw-p-0.5
        tw-text-center
        tw-text-xs
        tw-font-semibold
        tw-text-error;
    }
  }
  .bbsModal {
    @apply tw-absolute
    tw-z-[9999]
    tw-h-full
    tw-w-full
    tw-bg-slate-900
    tw-bg-opacity-50;

    .bbsSidebar {
      @apply tw-absolute
      tw-right-0
      tw-mr-[-800px]
      tw-h-full
      tw-w-[800px]
      tw-min-w-[200px]
      tw-max-w-[80%]
      tw-overflow-y-auto
      tw-bg-bg-secondary
      tw-shadow-lg;
      transition: all 300ms;
      &.show {
        @apply tw-mr-0;
      }
    }
  }
  /* Button */
  .bbsButton {
    @apply tw-flex
    tw-h-fit
    tw-w-max
    tw-items-center
    tw-justify-center
    tw-gap-x-1.5
    tw-whitespace-nowrap
    tw-rounded-md
    tw-border
    tw-border-border-component
    tw-bg-white
    tw-px-3
    tw-py-1
    tw-text-sm
    hover:tw-bg-bg-component-hover
    active:tw-bg-bg-component-active;
    &.full-width {
      @apply tw-w-full;
    }
    &.bbsButton-primary {
      @apply tw-border-brand
      tw-bg-brand
      tw-text-white
      hover:tw-bg-brand/90
      active:tw-bg-brand/80;
    }
    &.bbsButton-secondary {
      @apply tw-bg-transparent
      hover:tw-bg-bg-component-hover
      active:tw-bg-bg-component-active;
      &.filled {
        @apply tw-bg-bg-primary
        hover:tw-bg-bg-component-hover
        active:tw-bg-bg-component-active;
      }
    }
    &.bbsButton-tertiary {
      @apply tw-border-0
      tw-bg-transparent
      hover:tw-bg-bg-component-hover
      active:tw-bg-bg-component-active;
      &.filled {
        @apply tw-bg-bg-primary
        hover:tw-bg-bg-component-hover
        active:tw-bg-bg-component-active;
      }
      &.small {
        @apply tw-px-1.5
        tw-py-0.5
        tw-text-xs;
        .msicon {
          @apply tw-pt-[1px];
        }
      }
    }
    /*
    Rounded tag button - best with a close end icon
    */
    &.bbsButton-tag-secondary {
      @apply tw-whitespace-break-spaces
      tw-rounded-3xl
      tw-bg-white
      hover:tw-bg-bg-component-hover
      active:tw-bg-bg-component-active;
      &.small {
        @apply tw-px-1.5
        tw-py-0.5
        tw-text-xs;
        .msicon {
          @apply tw-pt-[1px];
        }
      }
    }
    /* Menu item button -- supposed to in to a menu or top-nav */
    &.bbsButton-menu-item {
      @apply tw-flex-col
      tw-items-start
      tw-gap-1
      tw-whitespace-normal
      tw-rounded-none
      tw-border-none
      tw-px-4
      tw-py-3
      tw-text-left;
      > p {
        @apply tw-flex
        tw-w-full
        tw-flex-row
        tw-items-start
        tw-gap-2;
        .text-label {
          @apply tw-basis-full
          tw-whitespace-nowrap
          tw-text-left;
        }
      }
      &.selected {
        @apply tw-shadow-selected-horizontal;
      }
    }
  }

  .bbsButtonGroup {
    @apply tw-flex;

    .bbsButton {
      @apply tw-rounded-none
      tw-border-r-0;
      &:first-child {
        @apply tw-rounded-l;
      }
      &:last-child {
        @apply tw-rounded-r
        tw-border-r;
      }
    }
    &.rounded {
      .bbsButton {
        &:first-child {
          @apply tw-rounded-l-full;
        }
        &:last-child {
          @apply tw-rounded-r-full;
        }
      }
    }
  }

  /* Menu or listbox -
  */
  .dropdown-menu {
    @apply tw-min-w-[200px]
    tw-max-w-[400px]
    tw-rounded-md
    tw-border
    tw-border-border
    tw-bg-white
    tw-p-1 tw-shadow-lg;
  }
  .bbsMenu {
    @apply tw-z-[100]
    tw-flex
    tw-min-w-[200px]
    tw-max-w-[400px]
    tw-flex-col
    tw-items-start
    tw-gap-1
    tw-rounded-md
    tw-border
    tw-border-border
    tw-bg-white
    tw-p-1 tw-shadow-lg;
    .bbsButton-menu-item {
      @apply tw-w-full;
      .bbsBadge {
        float: left;
      }
    }
  }

  .bbs-combobox {
    @apply tw-relative;
    .bbs-combobox-input {
      @apply tw-flex;
      input {
        @apply tw-rounded-r-none
      !important;
      }
      .bbsButton {
        &.bbsButton-secondary {
          @apply tw-my-1
        tw-rounded-l-none
        tw-border-l-0
        tw-px-2
        tw-py-1;
        }
      }
    }
    .dropdown-menu {
      @apply tw-max-h-48
        tw-w-full
        tw-overflow-hidden
        tw-overflow-y-auto;

      li {
        &.selected {
          button {
            @apply tw-bg-bg-component-selected;
            .msicon {
              @apply tw-inline-block;
            }
          }
        }
        button {
          @apply tw-w-full
            tw-flex-row
            tw-justify-between;
          .msicon {
            @apply tw-hidden;
          }
        }
      }

      p.notfound {
        @apply tw-w-full
        tw-rounded
        tw-bg-red-100
        tw-p-1
        tw-text-xs
        tw-text-error;
      }
    }
    .bbsMenu {
      @apply tw-absolute
      tw-z-[999]
      tw-max-h-48
      tw-w-full
      tw-overflow-hidden
      tw-overflow-y-auto;

      li.selected {
        @apply tw-hidden;
        &::after {
          content: "checked";
          @apply tw-absolute
      tw-right-0;
        }
      }
      p.notfound {
        @apply tw-w-full
        tw-rounded
        tw-bg-red-100
        tw-p-1
        tw-text-xs
        tw-text-error;
      }
    }
  }

  .left-sidebar {
    @apply tw-max-w-[200px]
    tw-border-x
    tw-border-border
    tw-bg-bg-primary
    tw-p-2
    max-sm:tw-p-0
    md:tw-w-full;
    .bbsButton.bbsButton-menu-item {
      @apply tw-rounded max-sm:tw-rounded-none;
      &.selected {
        @apply tw-bg-bg-component-selected
        tw-shadow-none;
      }
      .text-label {
        @apply tw-whitespace-break-spaces
         max-sm:tw-hidden;
      }
      .bbsBadge {
        @apply max-sm:tw-hidden;
      }
    }
    .group-label {
      @apply tw-pointer-events-none
      tw-py-2
      tw-ps-2
      tw-text-xs
      tw-font-semibold
      tw-text-text-secondary
      max-sm:tw-hidden;
    }
    hr {
      @apply tw-my-3;
    }
  }
  /* Divider */
  hr {
    @apply tw-border-border
    tw-opacity-75;
  }

  /* Some overrides to make the hr full bleed in
  its respoective containers */
  .left-sidebar {
    hr {
      @apply tw-mx-[-8px];
    }
  }
  .bbsMenu {
    hr {
      width: calc(100% + 8px);
      margin: 0 -4px;
    }
  }

  .bbs-accordion {
    .bbs-accordion-item {
      .bbs-accordion-content {
        .content-wrapper {
          hr {
            @apply tw-mx-[-16px];
          }
        }
      }
    }
  }
  /* Global nav */
  .top-nav {
    @apply tw-sticky tw-top-0
    tw-z-[100]
    tw-flex
    tw-w-full
    tw-items-center
    tw-justify-center
    tw-border-b
    tw-border-border
    tw-bg-white;
    .top-nav-container {
      @apply tw-relative
      tw-flex
      tw-w-full
      tw-max-w-screen-xl
      tw-flex-row
      tw-items-center
      tw-gap-1
      tw-align-middle;
      > div {
        @apply tw-flex
        tw-align-middle;
      }
      .input-wrapper {
        input,
        select {
          @apply tw-w-[118px] md:tw-w-[300px];
        }
      }
    }
    .top-nav-logo {
      @apply tw-flex
      tw-flex-row
      tw-items-center
      tw-gap-2
      tw-px-2;
      > div {
        @apply tw-flex
        tw-flex-row
        tw-items-center
        tw-gap-1
        tw-align-middle;
      }
    }
  }
  .caption {
    @apply tw-text-start
    tw-text-xs
    tw-text-text-secondary;
  }
  .input-wrapper {
    @apply tw-relative
    tw-flex
    tw-flex-col;
    > .icon-left {
      @apply tw-pointer-events-none
      tw-absolute
      tw-left-2
      tw-top-2.5
      tw-inline-block
      tw-cursor-text
      tw-text-text-tertiary;
    }
    input,
    select {
      @apply tw-my-1
      tw-rounded-md
      tw-border
      tw-border-border
      tw-px-2
      tw-py-1
      tw-text-sm
      tw-placeholder-text-tertiary;

      &.pill {
        @apply tw-rounded-3xl;
      }
      &.full-width {
        @apply tw-w-full;
      }
    }

    &.left-icon {
      input,
      select {
        @apply tw-my-2
        tw-ps-7;
      }
    }
  }
  label,
  .label {
    @apply tw-mb-1
    tw-break-words
    tw-text-sm
    tw-font-semibold;
    &.normal {
      @apply tw-font-normal;
    }
  }
  .help {
    @apply tw-ms-1 tw-mt-0.5 tw-text-text-secondary;
  }
  p.label {
    @apply tw-flex;
  }
  .bbs-radio-input,
  .bbs-checkbox-input {
    @apply tw-flex
    tw-items-start
    tw-gap-1.5;
    &:not(.group) {
      label {
      @apply tw-font-normal;
    }
  }
    input {
      @apply tw-mt-1;
    }
  }
  .bbsBadge {
    @apply tw-rounded-3xl
    tw-border
    tw-border-violet-800
    tw-bg-violet-100
    tw-px-1.5
    tw-text-[10px]
    tw-text-violet-800;
  }
  .content {
    @apply tw-flex tw-w-full
    tw-items-center
    tw-justify-center
    tw-bg-bg-secondary;
    .content-container {
      @apply tw-flex
      tw-w-full
      tw-max-w-screen-xl;
      .main-content {
        @apply tw-w-full
        tw-overflow-x-hidden
        tw-p-6;
      }
    }
  }
  .footer {
    @apply tw-flex
    tw-w-full
    tw-justify-center
    tw-border-t
    tw-border-border
    tw-bg-bg-tertiary;
    .social {
      @apply tw-w-6
      tw-text-center;
      > img {
        @apply tw-m-auto
        tw-h-4;
      }
    }
    .footer-container {
      @apply tw-flex
      tw-w-full
      tw-max-w-screen-xl
      tw-flex-col
      tw-gap-1
      tw-p-4;
    }
    .right-links {
      @apply tw-flex
      tw-items-center
      tw-gap-6
      tw-whitespace-nowrap
      tw-text-xs;
      > div {
        @apply tw-flex tw-flex-col tw-gap-2;
      }
    }
  }
  .bbs-list-panel {
    @apply tw-overflow-hidden
    tw-rounded-lg
    tw-border
    tw-border-border;
    .bbs-list-panel-heading {
      @apply tw-flex
      tw-w-full
      tw-gap-2
      tw-border-b
      tw-border-border
      tw-bg-bg-tertiary
      tw-p-3
      tw-text-sm
      tw-font-semibold;
    }
  }

  .bbs-list-group table tbody tr:last-child {
    border: transparent;
    border: 0px solid transparent;
  }
  .bbs-list-group {
    @apply tw-bg-bg-primary;
    table {
      @apply tw-mb-0;
      tbody {
        tr {
          &:last-child {
            @apply tw-border-collapse
            tw-border-0
            tw-border-transparent;
          }
        }
      }
    }
    .bbs-list-item {
      @apply tw-flex
      tw-w-full
      tw-items-center
      tw-px-3
      tw-py-2;
      &:not(:last-child) {
        @apply tw-border-b tw-border-border;
      }
      :first-child {
        @apply tw-flex-grow;
      }
      .bbs-list-item-title {
      }
      .bbs-list-item-subtext {
        @apply tw-text-xs
        tw-text-text-secondary;
      }
    }
  }
  .bbs-accordion {
    @apply tw-overflow-hidden
    tw-rounded-lg
    tw-border
    tw-border-border;
    .bbs-accordion-item {
      @apply tw-relative;

      .bbs-accordion-header {
        @apply tw-flex
        tw-w-full
        tw-gap-2
        tw-bg-bg-tertiary
        tw-py-3
        tw-pe-4
        tw-ps-3
        hover:tw-bg-bg-component-hover
        active:tw-bg-bg-component-active;
        .label {
          @apply tw-flex
          tw-flex-col
          tw-items-start
          tw-gap-1
          tw-text-sm;
        }
        .expand-icon {
          transition: all 250ms;
          display: inline-block;
        }
      }

      &.open {
        .bbs-accordion-header {
          .expand-icon {
            transform: rotate(180deg);
          }
        }
        .bbs-accordion-content {
          .content-wrapper {
            @apply tw-py-4;
            height: unset;
          }
        }
      }
      .bbs-accordion-content {
        @apply tw-grid
        tw-bg-bg-primary;
        .content-wrapper {
          @apply tw-px-4;
          height: 0px;
        }
      }
    }
    .bbs-accordion-item:not(:last-child) {
      @apply tw-border-b
      tw-border-border;
    }
  }
  .search-selection-container {
    @apply tw-grid
    tw-grid-cols-1
    tw-gap-6
    lg:tw-grid-cols-2;
    .search-form {
      @apply max-lg:tw-order-last;
    }
  }
  /* Bootstrap tooltip */
  .tooltip {
    z-index: 1000;
  }
  h2 {
    @apply tw-mb-4
    tw-font-semibold;
  }
  .search-criteria-group {
    @apply tw-mt-4;
    .title-container {
      @apply tw-flex
      tw-items-center;
      .label {
        @apply tw-flex-grow;
      }
    }
    .content-container {
      @apply tw-flex
      tw-flex-col
      tw-gap-2
      tw-rounded-md
      tw-border
      tw-border-border
      tw-bg-bg-primary
      tw-p-4;
      .subheading {
        @apply tw-text-xs
        tw-font-semibold;
      }
      .tag-container {
        @apply tw-mt-1
        tw-flex
        tw-flex-wrap
        tw-gap-2;
        .tag {
          @apply tw-whitespace-nowrap
          tw-rounded
          tw-border
          tw-border-border
          tw-bg-bg-secondary
          tw-px-2
          tw-py-1
          tw-font-mono
          tw-text-xs;
        }
      }
    }
  }

  .multiselect-tag-container {
    @apply tw-mt-1
    tw-flex
    tw-flex-wrap
    tw-gap-1;

    button {
      @apply tw-max-w-xs;
    }
  }

  /* OLD BBOS OVERWITES */
  /* Auto Complete Flyout from the old BBOS */
  .AutoCompleteFlyout {
    @apply tw-z-[100]
    tw-flex
    tw-h-[400px]
    tw-min-w-[200px]
    tw-max-w-[400px]
    tw-flex-col
    tw-items-start
    tw-overflow-auto
    tw-rounded-md
    tw-border
    tw-border-border
    tw-bg-white
    tw-shadow-lg;
  }

  .AutoCompleteFlyoutItem,
  .AutoCompleteFlyoutShadeItem,
  .AutoCompleteFlyoutHilightedItem {
    @apply tw-w-full
    tw-border-b
    tw-border-border
    tw-p-3
    tw-text-left
    tw-text-sm;
    .AutoCompleteFlyoutItem-title {
      @apply tw-font-semibold;
    }
    .AutoCompleteFlyoutItem-subtext {
      @apply tw-text-xs
      tw-text-text-secondary;
    }
  }

  .AutoCompleteFlyoutHilightedItem {
    @apply tw-bg-bg-component-hover;
  }

  .market-update-block {
    &.clr-block-1,
    &.clr-block-2,
    &.clr-block-3 {
      @apply tw-h-full
      tw-rounded
      tw-shadow-none;
    }
    &.clr-block-1 {
      background: #337ab7;
    }
    &.clr-block-2 {
      background: #9cc54a;
    }
    &.clr-block-3 {
      background: #73bede;
    }
  }
  /* END OF OLD BBOS OVERWITES */
  /* end of the layer components */
}
